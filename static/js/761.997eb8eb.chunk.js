"use strict";(self.webpackChunkboxdelabonita=self.webpackChunkboxdelabonita||[]).push([[761],{4374:function(e,a,s){s.r(a),s.d(a,{default:function(){return T}});var t=s(4165),c=s(5861),n=s(9439),l=s(2791),r="checkoutItems_checkoutItemsContainer__No1Am",i="checkoutItems_outerBox__u1X9f",o="checkoutItems_checkoutItemHeader__9A4D8",d="checkoutItems_checkoutItemsH3__qwq2+",m="checkoutItems_checkoutItems__HcMLe",u="checkoutItems_checkoutItem__qoNiU",h="checkoutItems_checkoutImgContainer__hChbF",p="checkoutItems_checkoutImg__GiA7N",f="checkoutItems_checkoutDetailsContainer__8XjZY",j="checkoutItems_checkoutP__MeQ+K",x="checkoutItems_totalContainer__4jYfd",N="checkoutItems_totalItems__bEDXU",v="checkoutItems_totalItem__rlq-h",y="checkoutItems_editOrders__LTtgt",_="checkoutItems_colors__XHJhj",g="checkoutItems_color__YIWbd",k=s(184);var b=function(e){var a,s=e.items,t=e.deliveryCharge,c=e.totalPrice;return a=Object.keys(s).length?Object.values(s).map((function(e){return(0,k.jsxs)("div",{className:u,children:[(0,k.jsx)("div",{className:h,children:(0,k.jsx)("img",{src:Object.values(e.product.img)[0],alt:e.product.title,className:p})}),(0,k.jsxs)("div",{className:f,children:[(0,k.jsx)("p",{className:j,children:e.product.title}),(0,k.jsxs)("p",{className:j,children:[e.quantity," x $",e.price]}),(0,k.jsxs)("p",{className:j,children:["\u09f3",e.quantity*e.price]}),(0,k.jsx)("div",{className:_,children:e.color.length?e.color.map((function(e,a){return(0,k.jsx)("span",{className:g,style:{backgroundColor:"".concat(e)}},a)})):null})]})]},e.product._id)})):(0,k.jsx)("h4",{children:"No items"}),(0,k.jsxs)("div",{className:r,children:[(0,k.jsxs)("div",{className:o,children:[(0,k.jsx)("h3",{className:d,children:"Order Summary"}),(0,k.jsx)("span",{className:y,onClick:function(){return window.location.assign("/view-cart")},children:"(Edit)"})]}),(0,k.jsx)("div",{className:i,children:(0,k.jsx)("div",{className:m,children:a})}),(0,k.jsx)("div",{className:i,children:(0,k.jsxs)("div",{className:x,children:[(0,k.jsxs)("div",{className:N,children:[(0,k.jsx)("span",{className:v,children:"Subtotal:"}),(0,k.jsxs)("span",{className:v,children:["\u09f3",c]})]}),(0,k.jsxs)("div",{className:N,children:[(0,k.jsx)("span",{className:v,children:"Shipping:"}),(0,k.jsxs)("span",{className:v,children:["\u09f3",t]})]}),(0,k.jsxs)("div",{className:N,children:[(0,k.jsx)("span",{className:v,children:"Total:"}),(0,k.jsxs)("span",{className:v,children:["\u09f3",c+t]})]})]})})]})},I=s.p+"static/media/flag.2a58095a0c8d22232042.png",S=s(3694),C=s(1172),Z=s(9806),w=s(1632),O=s(4164),D="modal_modal__KtSWS",E=function(e){var a=e.modal,s=e.children;return a?O.createPortal((0,k.jsx)("div",{className:D,children:s}),document.getElementById("portal")):a},P=s(9537);var T=function(){var e,a=(0,l.useState)({}),s=(0,n.Z)(a,2),r=s[0],i=s[1],o=(0,l.useState)(!1),d=(0,n.Z)(o,2),m=d[0],u=d[1],h=(0,l.useState)(!1),p=(0,n.Z)(h,2),f=p[0],j=p[1],x=(0,l.useState)(!1),N=(0,n.Z)(x,2),v=N[0],y=N[1],_=(0,l.useState)(""),g=(0,n.Z)(_,2),O=g[0],D=g[1],T=(0,l.useState)(""),q=(0,n.Z)(T,2),A=q[0],F=q[1],Y=(0,l.useState)(""),M=(0,n.Z)(Y,2),X=M[0],H=M[1],B=(0,l.useState)(!0),L=(0,n.Z)(B,2),G=L[0],J=L[1],K=(0,l.useState)(""),U=(0,n.Z)(K,2),W=U[0],Q=U[1],$=(0,l.useState)(!0),z=(0,n.Z)($,2),R=z[0],V=z[1],ee=(0,l.useState)("Select Area"),ae=(0,n.Z)(ee,2),se=ae[0],te=ae[1],ce=(0,l.useState)(""),ne=(0,n.Z)(ce,2),le=ne[0],re=ne[1],ie=(0,l.useState)(!0),oe=(0,n.Z)(ie,2),de=oe[0],me=oe[1],ue=(0,l.useState)(0),he=(0,n.Z)(ue,2),pe=he[0],fe=he[1],je=(0,l.useState)(0),xe=(0,n.Z)(je,2),Ne=xe[0],ve=xe[1],ye=(0,l.useState)(""),_e=(0,n.Z)(ye,2),ge=_e[0],ke=_e[1],be=(0,l.useState)(null),Ie=(0,n.Z)(be,2),Se=Ie[0],Ce=Ie[1];(0,l.useEffect)((function(){var e=(0,P.ck)();if(Object.keys(e).length){var a=0;Object.values(e).forEach((function(e){return a+=e.quantity*e.price})),fe(a)}i(e)}),[]),(0,l.useEffect)((function(){var e=setTimeout((function(){if(X){var e=X.includes("@"),a=X.includes(".com");if(e&&a)X.slice(X.indexOf("@")+1,X.indexOf(".com")).length>0&&J(!0);else J(!1)}}),1200);return function(){return clearTimeout(e)}}),[X]),(0,l.useEffect)((function(){var e=setTimeout((function(){W&&(11===W.length?V(!0):V(!1))}),1200);return function(){return clearTimeout(e)}}),[W]),(0,l.useEffect)((function(){O&&A&&W&&"Select Area"!==se&&le&&Object.keys(r).length?me(!1):me(!0)}),[O,A,X,se,G,W,le]),(0,l.useEffect)((function(){f?(0,P.XY)():window.onscroll=function(){}}),[f]);var Ze=null;return"success"===ge&&(Ze=(0,k.jsxs)("div",{className:"place-order-container",children:[(0,k.jsxs)("div",{className:"place-order-header",children:[(0,k.jsx)("div",{className:"place-order-icon-container",children:(0,k.jsx)(Z.G,{icon:w.LEp,className:"place-order-icon"})}),(0,k.jsxs)("div",{className:"place-order-details-container",children:[(0,k.jsx)("h2",{className:"place-order-details-h2",children:"Order Placed"}),(0,k.jsx)("p",{className:"place-order-details-p",children:"Your order has been placed successfully"}),(0,k.jsx)("p",{className:"place-order-details-p",children:"You can see the status of the order at any time"})]})]}),(0,k.jsx)("hr",{className:"hr-line"}),(0,k.jsxs)("div",{className:"place-order-footer",children:[(0,k.jsxs)("div",{className:"place-order-footer-row",children:[(0,k.jsxs)("div",{className:"place-order-footer-column",children:[(0,k.jsx)("h3",{className:"place-order-details-h3",children:"Date"}),(0,k.jsx)("p",{className:"place-order-details-p",children:Se.date})]}),(0,k.jsxs)("div",{className:"place-order-footer-column right-column",children:[(0,k.jsx)("h3",{className:"place-order-details-h3",children:"Order Id"}),(0,k.jsx)("p",{className:"place-order-details-p",children:Se.orderId})]})]}),(0,k.jsxs)("div",{className:"place-order-footer-row",children:[(0,k.jsxs)("div",{className:"place-order-footer-column",children:[(0,k.jsx)("h3",{className:"place-order-details-h3",children:"Shipping To"}),(0,k.jsx)("p",{className:"place-order-details-p",children:A})]}),(0,k.jsxs)("div",{className:"place-order-footer-column right-column",children:[(0,k.jsx)("h3",{className:"place-order-details-h3",children:"Payment Method"}),(0,k.jsx)("p",{className:"place-order-details-p",children:le})]})]})]}),(0,k.jsx)("button",{className:"place-order-btn",onClick:function(){return window.location.assign("/profile/track/".concat(W))},children:"Done"})]})),(0,k.jsxs)(k.Fragment,{children:[(0,k.jsx)(C.Z,{backdrop:f}),(0,k.jsx)(S.Z,{spinner:m}),(0,k.jsx)(E,{modal:v,children:Ze}),(0,k.jsx)("section",{className:"checkout-container-main",children:(0,k.jsxs)("div",{className:"checkout-container",children:[(0,k.jsxs)("div",{className:"payment-container",children:[(0,k.jsx)("h3",{className:"checkout-h3",children:"Payment Details"}),(0,k.jsxs)("form",{className:"payment-form",onSubmit:function(a){return(e=e||(0,c.Z)((0,t.Z)().mark((function e(a){return(0,t.Z)().wrap((function(e){for(;;)switch(e.prev=e.next){case 0:return a.preventDefault(),j(!0),u(!0),e.next=5,fetch("".concat("https://boxdelabonita.com/api","/place-order"),{method:"POST",headers:{"Content-Type":"application/json"},body:JSON.stringify({name:O,address:A,email:X,phone:W,city:se,paymentMethod:le,totalPrice:pe,deliveryCharge:Ne,products:r})}).then((function(e){return e.json()})).then((function(e){u(!1),j(!0),ke(e.status),Ce(e.data),y(!0),localStorage.removeItem("cart")})).catch((function(e){console.log(e),u(!1),j(!0),ke("server error")}));case 5:case"end":return e.stop()}}),e)})))).apply(this,arguments)},children:[(0,k.jsx)("fieldset",{className:"payment-form-filedset",children:(0,k.jsx)("input",{type:"text","data-testid":"full-name",placeholder:"Full Name",className:"payment-form-input",value:O,onChange:function(e){return D(e.target.value)}})}),(0,k.jsx)("fieldset",{className:"payment-form-filedset",children:(0,k.jsx)("input",{type:"text","data-testid":"full-address",placeholder:"Full Address",className:"payment-form-input",value:A,onChange:function(e){return F(e.target.value)}})}),(0,k.jsx)("fieldset",{className:G?"payment-form-filedset":"payment-form-filedset wrong-input",children:(0,k.jsx)("input",{type:"email","data-testid":"email",placeholder:"Email",className:"payment-form-input",value:X,onChange:function(e){return H(e.target.value)}})}),(0,k.jsxs)("fieldset",{className:R?"payment-form-filedset":"payment-form-filedset wrong-input",children:[(0,k.jsxs)("div",{className:"flag-container",children:[(0,k.jsx)("img",{src:I,className:"flag"}),(0,k.jsx)("span",{className:"country-code",children:"+88"})]}),(0,k.jsx)("input",{type:"number","data-testid":"phone-number",placeholder:"Phone Number",className:"payment-form-input phone",value:W,onChange:function(e){return Q(e.target.value)}})]}),(0,k.jsx)("fieldset",{className:"payment-form-filedset",children:(0,k.jsxs)("select",{"data-testid":"delivery-location",className:"payment-select",value:se,onChange:function(e){"Inside Dhaka \u09f380"===e.target.value?(te(e.target.value),ve(80)):(te(e.target.value),ve(150))},children:[(0,k.jsx)("option",{disabled:!0,className:"payment-option",children:"Select Area"}),(0,k.jsx)("option",{className:"payment-option",children:"Inside Dhaka \u09f380"}),(0,k.jsx)("option",{className:"payment-option",children:"Outside Dhaka \u09f3150"})]})}),(0,k.jsxs)("section",{className:"payment-method-main",children:[(0,k.jsx)("h3",{className:"payment-h3",children:"Payment Method"}),(0,k.jsxs)("div",{className:"payment-form-group",children:[(0,k.jsxs)("fieldset",{className:"payment-form-filedset payment",children:[(0,k.jsx)("input",{"data-testid":"payment-method",id:"cod",type:"radio",name:"payment-method",className:"paymet-method",value:"Cash on delivery",onChange:function(e){return re(e.target.value)}}),(0,k.jsx)("label",{htmlFor:"cod",className:"payment-form-label",children:"Cash on Delivery"})]}),(0,k.jsxs)("fieldset",{className:"payment-form-filedset payment",children:[(0,k.jsx)("input",{"data-testid":"payment-method",id:"bkash",type:"radio",name:"payment-method",className:"paymet-method",value:"bkash",onChange:function(e){return re(e.target.value)}}),(0,k.jsx)("label",{htmlFor:"bkash",className:"payment-form-label",children:"Bkash"})]})]})]}),(0,k.jsx)("button",{type:"submit",className:"submit-btn",disabled:de,children:"Order Now"})]})]}),(0,k.jsx)("div",{className:"vertical-line"}),(0,k.jsx)("div",{className:"item-container",children:(0,k.jsx)(b,{items:r,deliveryCharge:Ne,totalPrice:pe})})]})})]})}}}]);
//# sourceMappingURL=761.997eb8eb.chunk.js.map